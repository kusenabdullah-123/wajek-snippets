{
    "Wui Service Firebase": {
        "prefix": "wuiservicefirebase",
        "body": [
          "import { HttpHeaders } from '@angular/common/http';",
          "import { Inject, Injectable } from '@angular/core';",
          "import { WuiHttpService } from '@wajek/wui';",
          "import { AngularFireAuth } from '@angular/fire/auth';",
          "",
          "@Injectable({",
          "  providedIn: 'root'",
          "})",
          "export class ${1:class}Service {",
          "",
          "  constructor(",
          "    @Inject('apiURL') private apiURL: string,",
          "    private httpService: WuiHttpService,",
          "    private auth: AngularFireAuth",
          "  ) { }",
          "",
          "  async result(params = {}) {",
          "    return await this.httpService.get(this.apiURL + '${2:uri}', {",
          "      headers: new HttpHeaders({",
          "        \"Authorization\": await this.auth.idToken.toPromise()",
          "      }),",
          "      params: params",
          "    });",
          "  }",
          "",
          "  async row(id${1:class}) {",
          "    return await this.httpService.get(this.apiURL + '${2:uri}/' + id${1:class}, {",
          "      headers: new HttpHeaders({",
          "        \"Authorization\": await this.auth.idToken.toPromise()",
          "      })",
          "    });",
          "  }",
          "",
          "  async insert(data = {}) {",
          "    return await this.httpService.post(this.apiURL + '${2:uri}', data, {",
          "      headers: new HttpHeaders({",
          "        \"Authorization\": await this.auth.idToken.toPromise()",
          "      })",
          "    });",
          "  }",
          "",
          "  async update(id${1:class}, data) {",
          "    return await this.httpService.patch(this.apiURL + '${2:uri}/' + id${1:class}, data, {",
          "      headers: new HttpHeaders({",
          "        \"Authorization\": await this.auth.idToken.toPromise()",
          "      })",
          "    });",
          "  }",
          "",
          "  async delete(id${1:class}) {",
          "    return await this.httpService.delete(this.apiURL + '${2:uri}' + id${1:class}, {",
          "      headers: new HttpHeaders({",
          "        \"Authorization\": await this.auth.idToken.toPromise()",
          "      })",
          "    });",
          "  }",
          "",
          "}",
          ""
        ],
        "description": "Wui Service Firebase"
      }
}